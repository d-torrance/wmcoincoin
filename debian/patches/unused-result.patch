Description: Fix -Wunused-result compiler warnings.
Author: Doug Torrance <dtorrance@monmouthcollege.edu>
Last-Update: 2014-10-24

--- a/src/raster.c
+++ b/src/raster.c
@@ -449,7 +449,9 @@
       fprintf(stderr, _("Error while reading '%s' !? [%s]\n"), xpm_file, strerror(errno));
     }
 
-    l[0] = 0; fgets(l, LEN_MAX, f);
+    l[0] = 0;
+    if (!fgets(l, LEN_MAX, f))
+      fprintf(stderr, "fgets() failed: %s\n", strerror(errno));
     
     /* on ne prend en compte QUE LES LIGNES QUI COMMENCE PAR '"' et QUI SE TERMINENT PAR '",' */
     
--- a/src/pinnipede.c
+++ b/src/pinnipede.c
@@ -4255,7 +4255,8 @@
       int i;
       pp->nb_visited_links = nlnk;
       for (i=0; i < pp->nb_visited_links; i++) {
-	fscanf(f, "%d\n", &pp->visited_links[i]);
+        if (fscanf(f, "%d\n", &pp->visited_links[i]) == EOF)
+          myfprintf(stderr, "fscanf() failed\n");
       }
     }
     pp_tabs_restore_state(dock,f);
--- a/src/pinnipede_totoz.c
+++ b/src/pinnipede_totoz.c
@@ -502,7 +502,8 @@
         } else {
           fclose(f);
           cmd = str_printf("echo \"%s.%s\" `wmcoincoin_player -i \"%s\"` \"%s\" > \"%s\"", imgfname, extlist[i], pathimg, mimelist[i], pathdesc);
-          system(cmd);
+          if (system(cmd) == -1)
+            myfprintf(stderr, "%s failed\n", cmd);
           free(cmd);
           pp_totoz_register_img(dock->pinnipede, imgname, PP_TOTOZ_STATUS_FOUND);
           pp_totoz_update_status(dock, imgname);
--- a/src/board.c
+++ b/src/board.c
@@ -367,7 +367,8 @@
     board->time_shift_max = tmax;
     board->time_shift = t;
   }
-  fscanf(f, "last_viewed_id=%d", &board->last_viewed_id);
+  if (fscanf(f, "last_viewed_id=%d", &board->last_viewed_id) == EOF)
+    myfprintf(stderr, "fscanf() failed\n");
   if (board_is_rss_feed(board) || board_is_pop3(board)) {
     board->last_viewed_id = -1; /* on dispose d'une liste de md5 */
     release_md5_array(board);
@@ -1638,7 +1639,8 @@
     subs[9] = qhost;
     shift_cmd = str_multi_substitute(cmd, keys, subs, 10);
     BLAHBLAH(2, myprintf("post_cmd: /bin/sh -c %<YEL %s>\n", shift_cmd));
-    system(shift_cmd);
+    if (system(shift_cmd) == -1)
+      myfprintf(stderr, "%s failed\n", shift_cmd);
 
     free(shift_cmd);
     free(qlogin);
--- a/src/wmcoincoin.c
+++ b/src/wmcoincoin.c
@@ -491,7 +491,8 @@
   /*
     system fait appel à /bin/sh , mais on a backslashé tous les caractères embetants
   */
-  system(s);
+  if (system(s) == -1)
+	  myfprintf(stderr, "%s failed\n", s);
 }
 
 int
--- a/platypus/gifread.c
+++ b/platypus/gifread.c
@@ -89,7 +89,10 @@
 static void
 file_block_getter(uint8_t *p, uint32_t s, Gif_Reader *grr)
 {
-  fread(p, 1, s, grr->f);
+	size_t bytes_read;
+
+	bytes_read = fread(p, 1, s, grr->f);
+	assert(bytes_read == s && !ferror(grr->f));
 }
 
 static uint32_t
